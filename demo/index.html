<!DOCTYPE html>
<html>

<head>

    <link rel="stylesheet" href="style.css">
    <link rel="stylesheet" href="../src/bezier-mesh-projection.css">
    <script src="../vendor/dat.gui.js"></script>
    <script src="../vendor/three.js"></script>
    <script src="../src/bezier-mesh-projection.js"></script>
</head>

<body>

    <div class="bm-canvas" id="demo">    
    </div>

    <script>


        window.addEventListener("load", function () {

            let options = {
                container: "#demo",
                aspectRatio: 1,
                zoom: 0.7,
                gridSize: 20,
                mode: "bezier",
                texture: "jd.png",
                background: "bottle.jpg",
                gridColor: "#999999",
                handleColor: "#0088ff",
                preview: false
            };

            let bezierDistortion = new bm.BezierMeshProjection(options);
            let gui = new dat.GUI();
            let changeHandler = () => bezierDistortion.reset(options);

            gui.add(options, "mode", ["bezier", "linear"]).onChange(changeHandler).listen();
            gui.add(options, "texture", ["jd.png", "starbucks.png", "coca-cola.jpg"]).onChange(changeHandler).listen();
            gui.add(options, "background", ["bottle.jpg", "mug.jpg"]).onChange(changeHandler).listen();
            gui.add(options, "gridSize", 1, 50, 1).onChange(changeHandler).listen();
            gui.add(options, "zoom", 0.1, 2, 0.01).onChange(changeHandler).listen();
            gui.addColor(options, "gridColor").onChange(changeHandler).listen();
            gui.addColor(options, "handleColor").onChange(changeHandler).listen();
            gui.add(options, "preview").onChange(changeHandler).listen();
        });

    </script>
</body>

</html>